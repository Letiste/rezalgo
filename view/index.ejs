<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="public/lib/codemirror.js"/></script>
    <script defer src="public/main.js"/></script>
    <% Object.keys(languages).forEach(language => { %>
      <script src="<%= `public/mode/${languages[language].name}/${languages[language].name}.js` %> "/></script>
    <% }) %>
    <link rel="stylesheet" href="public/lib/codemirror.css">
    <% themes.forEach(theme => { %>
     <link rel="stylesheet" href="<%= `public/theme/${theme}.css` %> ">
    <% }) %>
    <title><%- challenge.name %></title>
    <style>
      .CodeMirror * {
        font-size: 14px;
        line-height: 19px;
      }
    </style>
  </head>
  <body>
    <h1><%- challenge.name %> </h1>
    <%- challenge.description %>
    <button id="submit" onclick="runCode()">Run code</button>
    <select id="language" onchange="switchHelpers(this)">
      <% Object.keys(languages).forEach(language => {%>
      <option value="<%= language %>" ><%= languages[language].name %></option>
      <% }) %>
    </select>
    <select id="fontSize" onchange="switchFontSize(this.value)">
      <% for( let index = 0; index < 10; index++ ) { %>
        <option value="<%= 10 + 2 * index %>" <%= index === 2 ? "selected" : "" %>><%= 10 + 2 * index %></option>
      <% } %>
    </select>
    <select id="theme" onchange="switchTheme(this.value)">
      <option value="default" selected>default</option>
    <% themes.forEach(theme => { %>
      <option value="<%= theme %> "><%= theme %> </option>
    <% }) %>
    </select>
    <button onclick="resetCode()">Reset</button>
    <textarea id="data"></textarea>
    <p style="color: green" id="success"></p>
    <p id="stdout"></p>
    <p style="color: red" id="stderr"></p>
    <p style="color: blue" id="memory"></p>
    <p style="color: purple" id="time"></p>
  </body>
  <script>
    const helpers = <%- JSON.stringify(helpers) %>
  </script>
</html>
